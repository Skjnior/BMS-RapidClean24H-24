<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::content})}">
<head>
    <title>Contact - BMS Clean Solutions</title>
</head>
<body>
<div th:fragment="content">
    <section id="contact" class="py-5 text-white" style="background: var(--gradient-primary);">
        <div class="container text-center">
            <h1 class="display-5 fw-bold mb-3">Contactez-nous</h1>
            <p class="lead mb-0">Vos messages sont stockés et visibles dans l’espace admin.</p>
        </div>
    </section>

    <section class="py-5 bg-light">
        <div class="container">
            <div class="row g-4 mb-4">
                <div class="col-lg-4">
                    <div class="contact-card text-center h-100">
                        <div class="contact-icon mb-3"><i class="fas fa-phone fa-2x text-primary"></i></div>
                        <h5>Téléphone</h5>
                        <p class="text-muted mb-2">+33 06 35 60 24 29</p>
                        <a class="btn btn-outline-primary" href="tel:+33635602429"><i class="fas fa-phone me-2"></i>Appeler</a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="contact-card text-center h-100">
                        <div class="contact-icon mb-3"><i class="fas fa-envelope fa-2x text-success"></i></div>
                        <h5>Email</h5>
                        <p class="text-muted mb-2">bibsaram@gmail.com</p>
                        <a class="btn btn-outline-success" href="mailto:bibsaram@gmail.com"><i class="fas fa-envelope me-2"></i>Écrire</a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="contact-card text-center h-100">
                        <div class="contact-icon mb-3"><i class="fas fa-map-marker-alt fa-2x text-warning"></i></div>
                        <h5>Adresse</h5>
                        <p class="text-muted mb-2">100 rue Balard 5015 Paris , France</p>
                    </div>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-lg-7">
                    <div class="card shadow-lg border-0">
                        <div class="card-header text-white" style="background: var(--gradient-primary);">
                            <h5 class="mb-0"><i class="fas fa-paper-plane me-2"></i>Envoyer un message</h5>
                        </div>
                        <div class="card-body p-4">
                            <!-- Messages d'alerte -->
                            <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 10px; margin-bottom: 20px;">
                                <i class="fas fa-check-circle me-2"></i>
                                <strong>Succès !</strong> <span th:text="${success}"></span>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                            
                            <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert" style="border-radius: 10px; margin-bottom: 20px;">
                                <i class="fas fa-exclamation-circle me-2"></i>
                                <strong>Erreur !</strong> <span th:text="${error}"></span>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                            
                            <form th:action="@{/contact}" th:object="${contactMessage}" method="post">
                                <!-- Honeypot field (anti-spam) -->
                                <input type="text" name="website" autocomplete="off" tabindex="-1" style="position: absolute; left: -9999px;" aria-hidden="true">
                                
                                <!-- CSRF Token -->
                                <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}" th:if="${_csrf != null}">
                                
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="fullName" class="form-label">Nom complet <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="fullName" th:field="*{fullName}" 
                                               required aria-required="true" aria-describedby="fullNameHelp">
                                        <small id="fullNameHelp" class="form-text text-muted">Votre nom complet</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="phone" class="form-label">Téléphone</label>
                                        <input type="tel" class="form-control" id="phone" th:field="*{phone}" 
                                               aria-describedby="phoneHelp" pattern="[\d\s\+\-\(\)]+">
                                        <small id="phoneHelp" class="form-text text-muted">Format: +33 6 12 34 56 78</small>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                                        <input type="email" class="form-control" id="email" th:field="*{email}" 
                                               required aria-required="true" aria-describedby="emailHelp">
                                        <small id="emailHelp" class="form-text text-muted">Nous ne partagerons jamais votre email</small>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="subject" class="form-label">Sujet <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="subject" th:field="*{subject}" 
                                               required aria-required="true" maxlength="200" aria-describedby="subjectHelp">
                                        <small id="subjectHelp" class="form-text text-muted">Résumé de votre message</small>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="message" class="form-label">Message <span class="text-danger">*</span></label>
                                        <textarea rows="5" class="form-control" id="message" th:field="*{message}" 
                                                  required aria-required="true" maxlength="2000" 
                                                  aria-describedby="messageHelp"></textarea>
                                        <small id="messageHelp" class="form-text text-muted">Décrivez votre demande en détail (max 2000 caractères)</small>
                                    </div>
                                </div>
                                <div class="d-grid mt-3">
                                    <button type="submit" class="btn btn-primary btn-lg" aria-label="Envoyer le message">
                                        <i class="fas fa-paper-plane me-2" aria-hidden="true"></i>Envoyer
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <div class="card h-100">
                        <div class="card-header text-white" style="background: var(--gradient-secondary);">
                            <h6 class="mb-0"><i class="fas fa-clock me-2"></i>Disponibilités</h6>
                        </div>
                        <div class="card-body">
                            <p class="mb-2"><strong>24h/24 - 7j/7</strong></p>
                            <p class="text-muted small mb-0">Nous répondons généralement en moins de 2h.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<style>
    .contact-card {
        padding: 1.5rem;
        background: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }
    .contact-card:hover { transform: translateY(-3px); }
    .contact-icon {
        width: 70px; height: 70px;
        display: grid; place-items: center;
        border-radius: 50%;
        background: rgba(44, 90, 160, 0.08);
        margin: 0 auto;
    }
</style>
</body>
</html>

